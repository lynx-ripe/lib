<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">

    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>

    <script type="text/javascript">

        $(function () {
            $('.facebook-login-button').on('click', function () {

                var loc = new URL(location);
                var redirectUrl = loc.protocol + '//' + loc.hostname + loc.pathname.replace('login.html', 'return.html');
                var url = 'https://www.facebook.com/v3.3/dialog/oauth?client_id=2606487762717089&redirect_uri='
                    + encodeURIComponent(redirectUrl) + '&state=state-param&response_type=token';
                var handle = window.open(url);
                var checker = function () {
                    if (!handle.closed) {
                        setTimeout(checker, 100);
                        return;
                    }
                    var access_token = document.getElementById('access_token').value;
                    alert('Access token:'+access_token);
                };
                checker();
            });
        });

    </script>


    <style type="text/css" media="screen">
        body {
            background: #dddddd;
            padding: 20px;
            font-family: Helvetica;
        }

        button {
            background: #6060b0;
            border: none;
            border-radius: 5px;
            padding: 8px 14px;
            font-size: 15px;
            color: #fff;
        }

    </style>


</head>
<body>

<div class="facebook-login-wrapper">
    <div class="facebook-login-button">
        <button name="social&#x5B;facebook-login&#x5D;" id="fb-login-button" value=""><span>FB Login</span></button>
    </div>
</div>

<input id="access_token" type="hidden">

</body>
</html>
